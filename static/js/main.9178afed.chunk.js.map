{"version":3,"sources":["secrets.js","SingleMoviePreview.js","Firebase.js","SingleMovie.js","film.png","App.js","reportWebVitals.js","index.js"],"names":["secrets","apiKey","config","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","SingleMoviePreview","props","movie","title","poster","overview","idx","setSingleMovie","movies","className","onClick","src","width","alt","firebase","initializeApp","ratings","firestore","collection","SingleMovie","setMovie","useState","director","setDirector","likes","setLikes","dislikes","setDislikes","loaded","setLoaded","useEffect","a","searchStr","id","axios","get","data","crew","find","el","job","name","console","log","getCredits","doc","then","exists","set","catch","error","movieDoc","update","type","length","releaseDate","disabled","App","setMovies","searchTerm","setSearchTerm","singleMovie","handleChange","res","results","reduce","accumulator","mov","original_language","push","poster_path","popularity","release_date","slice","sort","b","film","href","target","rel","placeholder","value","onChange","e","map","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9178afed.chunk.js","sourcesContent":["const secrets = {\n    apiKey: \"16ff66b6a4fe255819100131f3826554\",\n    config: {\n        apiKey: \"AIzaSyCbIlRaUHjWYWfWseREHjGYQu8sMOQdnu0\",\n        authDomain: \"yearone-takehome.firebaseapp.com\",\n        databaseURL: \"https://yearone-takehome.firebaseio.com\",\n        projectId: \"yearone-takehome\",\n        storageBucket: \"yearone-takehome.appspot.com\",\n        messagingSenderId: \"113496552704405171831\"\n    }\n}\n\nexport default secrets","function SingleMoviePreview(props) {\n    const {title, poster, overview} = props.movie\n    const {idx, setSingleMovie, movies} = props\n    return (\n      <div \n        key={idx} \n        className=\"singleMoviePreviewContainer\" \n        onClick={() => setSingleMovie(movies[idx])} // Loads the SingleMovie component\n      >\n        <img \n          src={poster ? `https://image.tmdb.org/t/p/original/${poster}` : \"https://image.shutterstock.com/image-vector/no-image-available-vector-illustration-260nw-744886198.jpg\"} \n          width='100' \n          alt=\"movie poster\" \n          className=\"posterPreview\" \n        />\n        <div className=\"titleAboutConatiner\" >\n          <h3 \n            className=\"titlePreview\"\n          >{title}</h3>\n          <p className=\"overviewPreview\">{overview}</p>\n        </div>\n      </div>\n    )\n  }\n\n  export default SingleMoviePreview","import firebase from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/firestore';\nimport 'firebase/analytics';\nimport secrets from './secrets'\n\n// //================Firstore Setup===========================\n\nfirebase.initializeApp(secrets.config);\nconst db = firebase.firestore()\nexport const ratings = db.collection('movies')\n","import {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport secrets from './secrets'\nimport {ratings} from './Firebase' // Connects to our Firestore collection\n\nfunction SingleMovie(props) {\n    const {movie, setMovie} = props\n    const [director, setDirector] = useState('')\n    const [likes, setLikes] = useState(0)\n    const [dislikes, setDislikes] = useState(0)\n    const [loaded, setLoaded] = useState(false) // Prevents attempting to update DOM or database until initial async calls are complete\n\n\n    useEffect(() => {\n      const getCredits = async () => { // Only makes search for director in single view\n        const searchStr = `https://api.themoviedb.org/3/movie/${movie.id}/credits?api_key=${secrets.apiKey}&append_to_response=credits`\n        try {\n          const {data} = await axios.get(searchStr)\n          const director = data.crew.find(el => el.job === 'Director')\n          if (director) setDirector(director.name)\n        } catch (error) {\n          console.log('Error: ', error)\n        }\n      }\n      getCredits()\n    }, [movie])\n  \n    useEffect(() => {\n      const getRatings = () => {\n        const movieDoc = ratings.doc(`${movie.id}`)\n        movieDoc.get().then(doc => {\n          if (doc.exists) {\n            setLikes(doc.data().likes)\n            setDislikes(doc.data().dislikes)\n            setLoaded(true)\n          } else {\n            ratings.doc(`${movie.id}`)\n            .set({\n              likes: 0,\n              dislikes: 0\n            })\n            .then(() => {\n              console.log('new movie created')\n              setLoaded(true)\n            })\n          }\n        }).catch(error => {\n          console.log('Error: ', error)\n        })\n      }\n      getRatings()\n    }, [movie.id])\n\n    useEffect(() => {\n      const movieDoc = ratings.doc(`${movie.id}`)\n      const updateRatings = () => {\n        movieDoc.update({\n          likes: likes,\n          dislikes: dislikes\n        }).catch(error => {\n          console.log('Error: ', error)\n        })\n      }\n      if (loaded) updateRatings()\n    }, [likes, dislikes, movie.id, loaded])\n  \n  \n    return (\n      <div>\n          <div id=\"singleMovieContainer\" >\n            <button \n              type=\"button\" \n              onClick={() => setMovie(null)}\n              className=\"exitSingleMovieButton\"\n              >X</button>\n            <img \n              className=\"singleMoviePoster\" \n              src={movie.poster ? \n                `https://image.tmdb.org/t/p/original/${movie.poster}` : \n                \"https://image.shutterstock.com/image-vector/no-image-available-vector-illustration-260nw-744886198.jpg\"} \n              alt=\"movie poster\"\n            />   \n            <div id=\"singleMovieContentContainer\" >\n              <h1 className=\"singleMovieTitle\">{movie.title}</h1>\n              <h3>{director.length ? `Directed by ${director}` : \"Director not listed\"}</h3>\n              <p \n                className=\"singleMovieReleaseYear\" >\n                {movie.releaseDate ? \n                  `Released ${movie.releaseDate}` : \n                  'Release date unknown'}\n              </p>\n              <div className=\"ratingsContainer\" >\n                <div className=\"feedbackContainer\">\n                  <button \n                    type=\"button\" \n                    onClick={() => {\n                      if (likes > 0) setLikes(likes-1)\n                    }}\n                    disabled={!loaded}\n                    className=\"ratingsButton\"\n                  >-</button>\n                  <span className=\"ratingsSpan\">👍 {likes}</span>\n                  <button \n                    type=\"button\" \n                    onClick={() => setLikes(likes+1)}\n                    disabled={!loaded}\n                    className=\"ratingsButton\"\n                  >+</button>\n                </div>\n                <div className=\"feedbackContainer\" >\n                  <button \n                    type=\"button\" \n                    onClick={() => {\n                      if (dislikes > 0) setDislikes(dislikes-1)\n                    }}\n                    disabled={!loaded}\n                    className=\"ratingsButton\"\n                  >-</button>\n                  <span className=\"ratingsSpan\">👎 {dislikes}</span>\n                  <button \n                    type=\"button\" \n                    onClick={() => setDislikes(dislikes+1)}\n                    disabled={!loaded}\n                    className=\"ratingsButton\"\n                  >+</button>\n                </div>\n              </div>\n              <p className=\"singleMovieOverview\" >{movie.overview}</p>\n              </div>  \n        </div>\n    </div>\n  )\n}\n\nexport default SingleMovie","export default __webpack_public_path__ + \"static/media/film.966fd9bd.png\";","import {useState, useEffect} from 'react'\nimport './App.css';\nimport axios from 'axios'\nimport secrets from './secrets'\nimport SingleMoviePreview from './SingleMoviePreview'\nimport SingleMovie from './SingleMovie'\nimport film from './film.png'\n\n\nfunction App() {\n  // Variables for the movies returned by our search, the search term, and the profile for the single movie to view\n  const [movies, setMovies] = useState([])\n  const [searchTerm, setSearchTerm] = useState('')\n  const [singleMovie, setSingleMovie] = useState(null)\n\n\n\n  useEffect(() => {\n    const handleChange = async () => {\n      setSingleMovie(null)\n      const searchStr = `https://api.themoviedb.org/3/search/movie?api_key=${secrets.apiKey}&language=en-US&query=${searchTerm}&include_adult=false`\n      try {\n        const {data} = await axios.get(searchStr) \n        const res = data.results.reduce((accumulator, mov) => {\n          if (mov.original_language === 'en') { // only saves needed information\n            accumulator.push({\n              id: mov.id,\n              title: mov.title,\n              poster: mov.poster_path,\n              overview: mov.overview,\n              popularity: mov.popularity,\n              releaseDate: mov.release_date ? mov.release_date.slice(0,4) : null\n          })\n        }\n          return accumulator\n        }, [])\n        res.sort((a,b) => b.popularity - a.popularity) // sorts by most popular\n        setMovies(res)\n\n      } catch (error) {\n        console.log('Error: ', error)\n      }\n    }\n    if (searchTerm.length) handleChange()\n    else setMovies([]) // Resets to empty when no search term present\n  }, [searchTerm])\n\n\n  return (\n    <div className=\"App\">\n      <div id='titleBar'>\n        <div id='titleBarContents'>\n          <div id='titleLogo'>\n            <img width=\"50\" src={film} alt=\"atom\"/>\n            <h3 id=\"titleText\">Movie DB Search</h3>\n\n          </div>\n        <a \n          href=\"https://github.com/PeterCrosta/YearOne_TakeHome\" \n          target='_blank' \n          rel='noopener noreferrer'\n        >\n          <img \n            src='https://www.sferalabs.cc/wp-content/uploads/github-logo-white.png' \n            alt='github logo' \n            className=\"githubIcon\"\n            />\n        </a>\n        </div>\n      </div>\n      <form \n        className=\"searchBar\"\n      >\n        <input \n          type=\"text\"\n          className=\"searchBarInput\" \n          placeholder=\"Enter movie name\" \n          value={searchTerm} \n          onChange={(e) => setSearchTerm(e.target.value)} // Handled with useEffect\n          />\n      </form>\n      {singleMovie ? (\n        < SingleMovie \n          movie={singleMovie}\n          setMovie={setSingleMovie}\n        />\n        ) : (\n        movies.map((movie, idx) => (\n        <SingleMoviePreview\n          movie={movie}\n          idx={idx}\n          setSingleMovie={setSingleMovie}\n          movies={movies}\n       />)))}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}